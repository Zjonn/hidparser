<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online USB HID Report Descriptor Parser. Parse and decode HID descriptor bytes into a human-readable format. Supports Main, Global and Local items, Usage Pages, and Collections.">
    <meta name="keywords" content="HID, USB, descriptor, parser, report descriptor, human interface device, usage page, collection">
    <meta name="author" content="Daniel Dubiel">
    <meta property="og:title" content="HID Report Descriptor Parser">
    <meta property="og:description" content="Parse USB HID descriptor bytes into readable format. Free online tool for debugging HID devices.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourusername.github.io/hidparser/">
    <title>HID Report Descriptor Parser</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>HID Report Descriptor Parser</h1>
    </header>

    <main class="container">
        <!-- Input card -->
        <section class="card">
            <h2>Input</h2>
            <textarea id="descriptorInput" 
    placeholder="Paste HID Report Descriptor bytes (hex format):

Format:
- Hex bytes (00-FF), space or comma separated
- Comments (ignored): // single line, /* multi-line */, # shell-style
- Case insensitive (0x05 or 0X05 or 0x0f)
- Leading 0x is optional

Example of valid input:
05, 01, 09, 02, A1, 01
09 01 A1 00     
05 09 19 01 29 0x03  
15 00 25 01        # This is different comment style
95 03 75 01 81 02 // This is a comment
95 01 75 05 81 03 
...                // (rest omitted for brevity)

Translates to:
0x05, 0x01,             // Usage Page (Generic Desktop Page)
0x09, 0x02,             // Usage (Mouse)
0xA1, 0x01,             // Collection (Application)
0x09, 0x01,             //   Usage (Pointer)
0xA1, 0x00,             //   Collection (Physical)
0x05, 0x09,             //     Usage Page (Button Page)
0x19, 0x01,             //     Usage Minimum (1)
0x29, 0x03,             //     Usage Maximum (3)
0x15, 0x00,             //     Logical Minimum (0)
0x25, 0x01,             //     Logical Maximum (1)
0x95, 0x03,             //     Report Count (3)
0x75, 0x01,             //     Report Size (1)
0x81, 0x02,             //     Input (Data,Variable,Absolute,No Wrap,Linear,Preferred State,No Null position,Bit Field)
0x95, 0x01,             //     Report Count (1)
0x75, 0x05,             //     Report Size (5)
0x81, 0x03,             //     Input (Constant,Variable,Absolute,No Wrap,Linear,Preferred State,No Null position,Bit Field)
"></textarea>
        </section>

        <!-- Options card -->
        <section class="card options-card">
            <div class="options-header" style="display: flex; align-items: center; gap: 8px;">
                <button id="parseBtn">Parse</button>
                <button id="toggleOptions">⚙️</button>
            </div>
            <div id="optionsContent" class="options-content hidden">
                <label>
                    Separator:
                    <input type="text" id="separator" value=", " maxlength="2">
                </label>
                <label>
                    Prefix:
                    <input type="text" id="prefix" value="0x" maxlength="4">
                </label>
                <label>
                    Comment symbol:
                    <input type="text" id="commentSymbol" value="//" maxlength="4">
                </label>
            </div>
        </section>

        <!-- Output card -->
        <section class="card">
            <h2>Output</h2>
            <pre id="output"></pre>
        </section>
    </main>

    <script>
        const toggleBtn = document.getElementById('toggleOptions');
        const optionsContent = document.getElementById('optionsContent');

        toggleBtn.addEventListener('click', () => {
            optionsContent.classList.toggle('hidden');
        });
    </script>
    <script type="module" src="parser.js"></script>
</body>
</html>
